[
  {
    "objectID": "tutorial.html",
    "href": "tutorial.html",
    "title": "getting started",
    "section": "",
    "text": "Here is how you use my package:\n\nfrom farm_precip_project import write_txt\nprint(\"Hello World\")\n\nHello World"
  },
  {
    "objectID": "usda_scrape.html",
    "href": "usda_scrape.html",
    "title": "Precip Data",
    "section": "",
    "text": "import pandas as pd\n# from bs4 import BeautifulSoup\n# import numpy as np\nimport requests\n# import re"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "usda_scrape.html#joining-farm-and-precip-data",
    "href": "usda_scrape.html#joining-farm-and-precip-data",
    "title": "Precip Data",
    "section": "Joining farm and precip data",
    "text": "Joining farm and precip data\n\nfull_farm_clean = pd.read_csv(\"FarmIncome_full.csv\")\n\n\n#state_precip = pd.read_csv(\"rain_clean.csv\")\n\ncsvs = [\"FarmIncome_full.csv\", \"rain_clean.csv\"]\ngroup_on = [\"state\", \"year\"]\nnew_csv_name = \"combined_farm_precip.csv\"\n\ndef merge_csvs(csvs, group_on, new_csv_name):\n    df1 = pd.read_csv(csvs[0])\n    df2 = pd.read_csv(csvs[1])\n    merged_df = pd.merge(df1, df2, on=group_on)\n    merged_df.to_csv(new_csv_name)\n    #return merged_df\n\nmerge_csvs(csvs, group_on, new_csv_name)"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Farm Precipition with Income Package",
    "section": "",
    "text": "Here is a website about our python package\nDocumentation here.\nGet started here."
  },
  {
    "objectID": "documentation.html",
    "href": "documentation.html",
    "title": "Documentation For Package",
    "section": "",
    "text": "Data\n\nSources\nPrecipitation - NOAA (National Oceanic and Atmospheric Administration). This data uses the PDSI metric. Which is an indicator of how much water is available compared to the average amount of water normally available in that region. It factors in precipitation, temperature, and soil moisture. This data tells us the monthly PDSI of each region of each state for each year. It is reasonable to average across regions, because for each state the regions are roughy equal in size.\nFarm Income - USDA (United States Department of Agriculture). This website contains an excel spreadsheet that can be downloaded. This excel file contians a sheet for each state. Each state’s sheet contains a column per year where each row contains dollar values for different parts of a State’s agricultural profits. It includes crop, livestock, and expense data among other things.\n\n\nFile Descriptions\nThe Precipitation dataset is a .txt file. It’s first column contains a code for the state, division, element (in this case PDSI), and year. It then contains a column for each month, which contains the PDSI value for that month.\nAn example row from the txt file:\n0101051895 | 0.11 | -0.81 | -0.56 | -0.72 | -0.85 | -0.99 | -0.90 | -1.13 | -1.69 | -1.72 | -2.04 | -2.12 |\nState code = 01 (which corresponds to a state) Division number = 01 (first climate division in Florida) Element code = 05 (PDSI) Year = 1895 January PDSI value = 0.11 February PDSI value = -0.81 March PDSI value = -0.56 … and so forth through December.\n\n\nCombined Data File\n\n\n\nFunctions\n\nPrecipitation/PDSI Data Preparation\nThese functions will use a url file to produce write multiple files. The raw output from the url to a txt and csv file. It then produces a table that provides the average PDSI per state per year and writes it to a csv.\n\nread_url_txt(url, txt_name, csv_name, colspecs, cols)\n\nOverview:\nInput is a url containing a .txt file. Uses requests package to have requests.get output. Saves a .csv file and uses txt_to_csv() (see below) to save .txt file of dataset. Calls txt_to_csv as part of process.\nArgs:\nurl:str - a url pointing to a remote .txt file. (“https://www.ncei.noaa.gov/pub/data/cirs/drd/drd964x.pdsi.txt”) txt_name:str - the name the .txt file will be saved to. (“name.txt”) csv_name:str - the name the .csv file will be saved to. (“name.csv”) col_specs:list - contains tuples that indicate how to break string into parts. Must be same length as cols.([(0, 2), (2, 4), (4, 6), (6, 10),(10, 17)]) cols:list - contains names of new columns that are created with col_specs. Must be same length as col_specs. (cols = [“col1”, “col2”, “col3”, “col4”,“col5”])\nImpact: Returns None. This function will write files, but will not return anything.\n\ntxt_to_csv(txt_name, csv_name, colspecs, cols)\n\nOverview:\nReads txt file. Parses government coding system from first column into various columns. Converts strings cells containing PDSI information to numeric values, Writes new broken up table to csv.\nArgs: txt_name:str - the name the .txt file will be saved to. (“name.txt”) csv_name:str - the name the .csv file will be saved to. (“name.csv”) col_specs:list - contains tuples that indicate how to break string into parts. Must be same length as cols.([(0, 2), (2, 4), (4, 6), (6, 10),(10, 17)]) cols:list - contains names of new columns that are created with col_specs. Must be same length as col_specs. (cols = [“col1”, “col2”, “col3”, “col4”,“col5”])\nImpact: Returns None. This function will write files, but will not return anything.\nExample:\nimport requests\nimport pandas as pd\nfrom farm_precip_project import read_url_txt, txt_to_csv\n\nurl = \"https://www.ncei.noaa.gov/pub/data/cirs/drd/drd964x.pdsi.txt\"\n\ntxt_name = \"rain.txt\"\ncsv_name = \"rain_dirty.csv\"\n\ncolspecs = [\n    (0, 2), (2, 4), (4, 6), (6, 10),\n    (10, 17), (17, 24), (24, 31), (31, 38),\n    (38, 45), (45, 52), (52, 59), (59, 66),\n    (66, 73), (73, 80), (80, 87), (87, 94)\n]\n\ncols = [\n    \"state\", \"division\", \"element\", \"year\",\n    \"jan\",\"feb\",\"mar\",\"apr\",\"may\",\"jun\",\"jul\",\"aug\",\n    \"sep\",\"oct\",\"nov\",\"dec\"\n]\n\nread_url_txt(url, txt_name, csv_name, colspecs, cols)\n\nprint(pd.read_csv(csv_name).head(1).to_markdown())\n\nnormalized_data(df, months, groups, csv_name_clean, new_col_name)\n\nOverview: Averages the PDSI across months for each row, and saves it as a new column. This is the yearly average PDSI for each district of each state. Creates a new table averaging the yearly PDSI for every state across all its districts. Writes the table to a csv.\nArgs: df_to_read:str - contains name of csv to read. new_col_name:str - name of new column that is added when calculating average for each row. csv_name_clean:str - name of csv you want to save your calculated table to. (“averaged_vals.csv”) months:list - contains strings of values that will be used to calculate the averages for each row. ([“col1”,“col2”,“col3”]) groups:list - contains strings of values to group by when calculating averages across rows. ([“group1”, “group2”])\nImpact: Returns None. This function will write files, but will not return anything.\nExample:\n\nimport pandas as pd\nfrom farm_precip_project import normalized_data\n\nmonths = [\"jan\",\"feb\",\"mar\",'apr',\"may\",\"jun\",\"jul\",\"aug\",\"sep\",\"oct\",\"nov\",\"dec\"]\ngroups = [\"state\",\"year\"]\nnew_col_name = \"yearly_avg\"\ncsv_name_clean = \"rain_clean.csv\"\ndf_to_read = \"rain_dirty.csv\"\n\nnormalized_data(df_to_read, new_col_name, csv_name_clean, months, groups)\nprint(pd.read_csv(csv_name_clean).head(1).to_markdown())\n\n|    |   state |   year |   yearly_avg |\n|---:|--------:|-------:|-------------:|\n|  0 |       1 |   1895 |    -0.821354 |\n\n\n\n\n\nFiles"
  },
  {
    "objectID": "documentation.html#read_url_txt",
    "href": "documentation.html#read_url_txt",
    "title": "Overview",
    "section": "",
    "text": "Signature\nread_url_txt(url)\nOverview\nInput is a URL containing a .txt file. Internally uses requests.get to fetch the content, then calls write_txt() and txt_to_csv() to save the .txt and .csv files from the dataset.\nParameters - url : str\nA URL pointing to a remote text file (e.g., \"https://example.com/data.txt\").\nReturns\n- None\nThis function orchestrates fetching and saving; its side-effects are writing files to disk.\nSide Effects - Saves the fetched text as a local .txt file via write_txt(). - Converts the .txt to a parsed .csv via txt_to_csv().\nNotes - The function expects the remote resource to return HTTP status code 200. If status_code != 200, a message is printed, and the operation is aborted. - Because read_url_txt delegates to write_txt() and txt_to_csv(), it should pass the appropriate arguments such as a destination txt_name, and the parsing instructions (colspecs, cols, csv_name) to fully complete the pipeline. - Typical pitfalls: - Using a URL that does not point to a .txt file (or serves a different content type). - Forgetting to specify consistent colspecs/cols downstream, which are required by txt_to_csv().\nExample ```python import requests from your_package import read_url_txt, write_txt, txt_to_csv"
  }
]